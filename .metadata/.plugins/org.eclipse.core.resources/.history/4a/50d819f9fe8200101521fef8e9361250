<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="sample.mapper.BoardMapper">
	
	<select id="readBoardList" resultType="java.util.Map">
		SELECT BOARD_CODE, BOARD_TITLE, BOARD_WRITER, BOARD_CONTENT, DATE_FORMAT(REG_DATE, "%Y-%m-%d") AS REG_DATE
			FROM BOARDS
	</select>
	
	<select id="searchBoardList" parameterType="java.util.Map" resultType="java.util.HashMap">
		SELECT BOARD_CODE, BOARD_TITLE, BOARD_WRITER, BOARD_CONTENT, DATE_FORMAT(REG_DATE, "%Y-%m-%d") AS REG_DATE
			FROM BOARDS
			<where>
				<if test="BOARD_TITLE != null and BOARD_WRITER != null and FIRST_REG_DATE != null and SECOND_REG_DATE != null">
					BOARD_TITLE = #{BOARD_TITLE}
						AND BOARD_WRITER = #{BOARD_WRITER}
						AND REG_DATE >= #{FIRST_REG_DATE}
						AND REG_GATE <= #{SECOND_REG_DATE}
				</if>
			</where>
	</select>
	
</mapper>
